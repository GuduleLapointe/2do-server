<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Hypervents: Hypergrid Events across the Metaversum</title>
  <meta name="description" content="Hypervents: Hypergrid Events across the Metaversum">
  <meta name="author" content="linkwater">
  <link rel="stylesheet" href="style.css">
  <script src="jquery-1.11.3.min.js"></script>
  <script src="moment.min.js"></script>
  <script src="moment-timezone-with-data-2010-2020.js"></script>
  <script>
    $(document).ready(function() {
        $("div#events").html("<h1>Events</h1>")

        $.getJSON("events.json", function(data) {
            tzname = "Europe/Amsterdam"

            $("div#events").append($('<table class="eventlist"></table>'));

            for(var i=0;i<data.length;i++) {
                start = moment(data[i].start)
                end = moment(data[i].end)

                var tr  = '<tr>';
                tr = tr + '<td class="eventtime">' + start.tz(tzname).format("ddd, MMM D, ha") + ' - ';
                tr = tr + end.tz(tzname).format("ha") + " " + start.tz(tzname).format("z") + '</td>';

                tr = tr + '<td class="eventtitle">' + data[i].title + '</td></tr>';

                tr = tr + '<tr class="eventdesc"><td class="eventdesc" colspan="2">' + data[i].description + '</td></tr>';
                tr = tr + '<tr class="eventhgurl"><td class="eventhgurl">' + data[i].hgurl + '</td><td></td></tr>';

                $("div#events table").append($(tr));
            }

        });
    });
  </script>
</head>
<body>
<div id="events">
non-javascript client sees this
</div>
</body>
</html>
